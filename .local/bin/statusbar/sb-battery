#!/bin/bash

BATTERY_PATH="/sys/class/power_supply/BAT0"
status="$(cat ${BATTERY_PATH}/status)" 

case "${status}" in
	"Full") status_string="⚡" ;;
	"Discharging") status_string="🔋" ;;
	"Charging") status_string="🔌" ;;
	"Not charging") status_string="🛑" ;;
	"Unknown") status_string="♻️" ;;
	*) exit 1 ;;
esac

capacity="$(cat ${BATTERY_PATH}/capacity)"
[ "$status" = "Discharging" ] && [ "$capacity" -le 25 ] && status_string="❗"

echo "${status_string} ${capacity}%"
